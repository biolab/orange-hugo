<html>    
    <head>
    <title>Orange Data Mining - GSoC Review: MF - Matrix Factorization Techniques for Data Mining</title>

    
    
    <meta property="og:title" content="GSoC Review: MF - Matrix Factorization Techniques for Data Mining">
    
    
    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Orange Data Mining Toolbox">
    <meta name="author" content="Bioinformatics Laboratory, University of Ljubljana">
    <meta name="google-site-verification" content="DS7GH5M7ABi78pIC2rMcTBFx-UeBFObXOeLvR7Ow3EQ" />
    <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>
    
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/plugins/lightgallery/css/lightgallery.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    
    
    
    <link rel="stylesheet" href="/scss/main.d9c67f9587b6abf8530a97159ebe0538a4fcf1753aa987c0cebe9a6632c39829.css">
    <script id="dsq-count-scr" src="//orange-4.disqus.com/count.js" async></script>

    <noscript>
        <style>
            .jsonly { display: none !important; }
        </style>
    </noscript>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-528382-1', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');


    </script>




    <script type="text/javascript" src="/plugins/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/plugins/jquery.form.js"></script>
    <script type="text/javascript" src="/plugins/bootstrap/js/bootstrap.min.js"></script>
    
    <script type="text/javascript" src="/plugins/lightgallery/js/lightgallery.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-thumbnail.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-video.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-zoom.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>
    <script type="text/javascript" src="/js/header_helpers.js"></script>


    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T5X4T27');</script>
    

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T5X4T27"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <script type="text/javascript">
      $( document ).ready( function () {

        $('a').off("click").click( function ( event ) {
           ga('send', 'event', "a", event.type, $(this).attr("id"), 1 );
        });

        $('[class *= trackClicks_]').off("click").click( function ( event ) {
           var classList = $(this).attr('class').split(/\s+/);
           var trackname = "";
           $.each(classList, function(index, item) {
             if (item.indexOf('trackClicks_') === 0) {
                trackname = item;
             }
           });
           ga('send', 'event', "a", event.type, trackname, 1 );
        });
      });
    </script>

</head>

    <body>

    <header id="top" class="header navbar-fixed-top">
  <div class="container" >
      <h1 class="logo pull-left" >
          <a id="header-orangelogo" href="/">
              <img id="logo-image" class="logo-image" src="/images/orange_logo_hq.png" alt="Logo">
          </a>
      </h1>
      <nav id="main-nav" class="main-nav navbar-right" role="navigation">
          <div class="navbar-header">
              <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
              </button>
          </div>
         <div class="navbar-collapse collapse" id="navbar-collapse">
              <ul class="nav navbar-nav">

                  

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/screenshots/">Screenshots</a></li>
                      
                  
                
              

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/workflows/">Workflows</a></li>
                      
                  
                
              

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/download/">Download</a></li>
                      
                  
                
              

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/blog/">Blog</a></li>
                      
                  
                
              

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/docs/">Docs</a></li>
                      
                  
                
              

                  
                  
                      
                      <li class="nav-item"><a id="header-screenshots-link"  href="/training/">Workshops</a></li>
                      
                  
                
              

                  
                      <li class="nav-search-wrapper">
                        <div>                         
                          
                          <a class="btn nav-btn-search btn-warning nav-btn fa fa-search nav-btn-desktop" 
                            id="search-btn-js" 
                            role="button">
                          </a>
                          
                          
                          <a class="btn nav-btn-search btn-warning nav-btn fa fa-search nav-btn-mobile" 
                            role="button" 
                            href="/search/?q=">
                          </a>

                          <input type="text" 
                                class="header-search-input jsonly search-widget-workflow nav-item" 
                                id="search-header" 
                                placeholder="Search" 
                                tabindex="1" 
                                onkeydown="check_key_header(event)" 
                                hidden
                                autofocus />
                        </div>
                      </li>
                  
              

                  
                  
                      
                  <li class="">
                    <div class="donate-button transform_header donate_div">
                      <a class="btn btn-warning nav-btn" id="header-donate-link" role="button" target="_blank" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J">Donate</a>
                    </div>
                  </li>
                      
                  
                
              
              </ul>
          </div>
      </nav>
  </div>
</header>

    <div id="main">
        <div class="container-fluid clear-top">
            
<div id="overflow-container" class="overflow-container">
  <div id="loop-container" class="offset-header container">
    
      <div
        class="blog-font-size post type-post status-publish format-standard category-standard category-travel full-without-featured odd excerpt-1 no-image">
        
        <div class="entry-meta remove-padding-l-r">
          <span>Categories: </span>
          
          <span class="category">
            
            <a href="/blog/gsoc">gsoc</a>
          </span>
          
          <span class="category">
            
            <span> | </span>
            
            <a href="/blog/matrixfactorization">matrixfactorization</a>
          </span>
          
        </div>
        <div class='entry-header remove-padding-l-r'>
          <h1 class='entry-title'> GSoC Review: MF - Matrix Factorization Techniques for Data Mining</h1>
          <span class="author-blog">
            
            By: BIOLAB,
            
            Sep 1, 2011
          </span>
        </div>
        <div class="entry-container remove-padding-l-r">
          <div class="entry-content md">
            <article>
              <div id="blog_images_">


              <p>MF - Matrix Factorization Techniques for Data Mining is a Python scripting library which includes a number of published matrix factorization algorithms, initialization methods, quality and performance measures and facilitates the combination of these to produce new strategies. The library represents a unified and efficient interface to matrix factorization algorithms and methods.</p>
<p>The MF works with numpy dense matrices and scipy sparse matrices (where this is possible to save on space). The library has support for multiple runs of the algorithms which can be used for some quality measures. By setting runtime specific options tracking the residuals error within one (or more) run or tracking fitted factorization model is possible. Extensive documentation with working examples which demonstrate real applications, commonly used benchmark data and visualization methods are provided to help with the interpretation and comprehension of the results.</p>
<h3 id="content-of-current-release">Content of Current Release</h3>
<h4 id="factorization-methods">Factorization Methods</h4>
<ul>
<li>BD - Bayesian nonnegative matrix factorization Gibbs sampler [Schmidt2009]</li>
<li>BMF - Binary matrix factorization [Zhang2007]</li>
<li>ICM - Iterated conditional modes nonnegative matrix factorization [Schmidt2009]</li>
<li>LFNMF - Fisher nonnegative matrix factorization for learning local features [Wang2004], [Li2001]</li>
<li>LSNMF - Alternative nonnegative least squares matrix factorization using projected gradient method for subproblems [Lin2007]</li>
<li>NMF - Standard nonnegative matrix factorization with Euclidean / Kullback-Leibler update equations and Frobenius / divergence / connectivity cost functions [Lee2001], [Brunet2004]</li>
<li>NSNMF - Nonsmooth nonnegative matrix factorization [Montano2006]</li>
<li>PMF - Probabilistic nonnegative matrix factorization [Laurberg2008], [Hansen2008]</li>
<li>PSMF - Probabilistic sparse matrix factorization [Dueck2005], [Dueck2004], [Srebro2001], [Li2007]</li>
<li>SNMF - Sparse nonnegative matrix factorization based on alternating nonnegativity constrained least squares [Park2007]</li>
<li>SNMNMF - Sparse network regularized multiple nonnegative matrix factorization [Zhang2011]</li>
</ul>
<h4 id="initialization-methods">Initialization Methods</h4>
<ul>
<li>Random</li>
<li>Fixed</li>
<li>NNDSVD [Boutsidis2007]</li>
<li>Random C [Albright2006]</li>
<li>Random VCol [Albright2006]</li>
</ul>
<h4 id="quality-and-performance-measures">Quality and Performance Measures</h4>
<ul>
<li>Distance</li>
<li>Residuals</li>
<li>Connectivity matrix</li>
<li>Consensus matrix</li>
<li>Entropy of the fitted NMF model [Park2007]</li>
<li>Dominant basis components computation</li>
<li>Explained variance</li>
<li>Feature score computation representing its specificity to basis vectors [Park2007]</li>
<li>Computation of most basis specific features for basis vectors [Park2007]</li>
<li>Purity [Park2007]</li>
<li>Residual sum of squares - can be used for rank estimate [Hutchins2008], [Frigyesi2008]</li>
<li>Sparseness [Hoyer2004]</li>
<li>Cophenetic correlation coefficient of consensus matrix - can be used for rank estimate [Brunet2004]</li>
<li>Dispersion [Park2007]</li>
<li>Factorization rank estimation</li>
<li>Selected matrix factorization method specific</li>
</ul>
<h3 id="plans-for-future">Plans for Future</h3>
<p>General plan for future releases of MF library is to alleviate the usage for non-technical users, increase library stability and provide comprehensive visualization methods. Specifically, in algorithm sense addition of the following could be provided.</p>
<ul>
<li>Extending Bayesian methods with variational BD and linearly constrained BD.</li>
<li>Adaptation of the PMF model to interval-valued matrices.</li>
<li>Nonnegative matrix approximation. Multiplicative iterative schema.</li>
</ul>
<h3 id="usage">Usage</h3>
<pre><code># Import MF library entry point for factorization
import mf

from scipy.sparse import csr_matrix
from scipy import array
from numpy import dot
# We will try to factorize sparse matrix. Construct sparse matrix in CSR format.
V = csr_matrix((array([1,2,3,4,5,6]),array([0,2,2,0,1,2]),array([0,2,3,6])),shape=(3,3))

# Run Standard NMF rank 4 algorithm
# Returned object is fitted factorization model. 
# Through it user can access quality and performance measures.
fit = mf.mf(V,method = &quot;nmf&quot;,max_iter = 30,rank = 4,update = 'divergence',objective = 'div')

# Basis matrix. It is sparse, as input V was sparse as well.
W = fit.basis()
print &quot;Basis matrix\n&quot;, W.todense()

# Mixture matrix. We print this tiny matrix in dense format.
H = fit.coef()
print &quot;Coef\n&quot;, H.todense()

# Return the loss function according to Kullback-Leibler divergence. 
print &quot;Distance Kullback-Leibler&quot;, fit.distance(metric = &quot;kl&quot;)

# Compute generic set of measures to evaluate the quality of the factorization
sm = fit.summary()
# Print sparseness (Hoyer, 2004) of basis and mixture matrix
print &quot;Sparseness W: %5.3f  H: %5.3f&quot; % (sm['sparseness'][0], sm['sparseness'][1])
# Print actual number of iterations performed
print &quot;Iterations&quot;, sm['n_iter']

# Print estimate of target matrix V
print &quot;Estimate\n&quot;, dot(W.todense(), H.todense())
</code></pre>
<h3 id="examples">Examples</h3>
<p>Examples with visualized results in bioinformatics, image processing, text analysis, recommendation systems are provided in <a href="http://helikoid.si/mf/">Examples section of Documentation.</a></p>
<p>Figure 1: Reordered consensus matrix generated for rank = 2 on Leukemia data set.</p>
<p><img src="/images/2011/09/04/all_aml_consensus2.png__160x160_q95_crop.png" alt=""></p>
<p>Figure 2: Interpretation of NMF - Divergence basis vectors on Medlars data set. By considering the highest weighted terms in this vector, we can assign a label or topic to basis vector W1, a user might attach the label liver to basis vector W1.</p>
<p><img src="/images/2011/09/04/documents_basisw1.png__160x160_q95_crop.png" alt=""></p>
<p>Figure 3: Basis images of LSNMF obtained after 500 iterations on original face images. The bases trained by LSNMF are additive but not spatially localized for representation of faces.</p>
<p><img src="/images/2011/09/04/orl_faces_500_iters_large_lsnmf.png__160x160_q95_crop.png" alt=""></p>
<h3 id="relevant-links">Relevant Links</h3>
<ul>
<li><a href="http://helikoid.si/mf/">Extensive published documentation with examples</a></li>
<li><a href="http://orange.biolab.si/trac/wiki/MatrixFactorization">Orange wiki MF Project page</a></li>
<li><a href="https://github.com/marinkaz/mf">Github repository with source code</a></li>
<li><a href="http://helikoid.si/mf/GSoC_MF.pdf">Short presentation in pdf format of MF library</a></li>
</ul>

            </div>
            </article>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://orange-4.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
</div>
<script type="text/javascript">
    $(document).ready(function() {
        $('#blog_images_').lightGallery({
        thumbnail: false,
        selector: 'a:has(img)',
        width: '60%',
        mode: 'lg-fade',
        counter: false,
        download: false,
        enableSwipe: false,
        enableDrag: false,
        speed: 1,
        useLeft: true,
        hideBarsDelay: 1000
    });
    });
</script>

        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row">

                <div class="col-md-4 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Orange</div></b></li>
                                <li><a class="sitemap-sub" href="/faq/">FAQ</a></li>
                                <li><a class="sitemap-sub" href="/license/">License</a></li>
                                <li><a class="sitemap-sub" href="/privacy/">Privacy</a></li>
                                <li><a class="sitemap-sub" href="/citation/">Citation</a></li>
                                <li><a class="sitemap-sub" href="/contact/">Contact</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Download</div></li>
                                <li><a class="sitemap-sub" href="/download/#windows">Windows</a></li>
                                <li><a class="sitemap-sub" href="/download/#macos">Mac OS</a></li>
                                
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">

                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Community</div></b></li>
                                <li><a class="sitemap-sub" href="https://www.facebook.com/orangedatamining" target="_blank">Facebook</a></li>
                                <li><a class="sitemap-sub" href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g" target="_blank">YouTube</a></li>
                                <li><a class="sitemap-sub" href="https://twitter.com/orangedataminer" target="_blank">Twitter</a></li>
                                <li><a class="sitemap-sub" href="https://datascience.stackexchange.com/questions/tagged/orange" target="_blank">Stack Exchange</a></li>
                                <li><a class="sitemap-sub" href="https://discord.gg/FWrfeXV" target="_blank">Discord</a></li>
                            </ul>

                        </div>

                    </div>
                </div>

                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-5 col-md-7 col-lg-6 sitemap-group docs-devs">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Documentation</div></li>
                                <li><a class="sitemap-sub" href='/getting-started/'>Get started</a></li>
                                <li><a class="sitemap-sub" href="/widget-catalog/">Widgets</a></li>
                                <li><a class="sitemap-sub" href="http://docs.biolab.si/3/data-mining-library/">Scripting</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Developers</div></b></li>
                                <li><a class="sitemap-sub" target="_blank" href="https://github.com/biolab/orange3">GitHub</a></li>
                                <li><a class="sitemap-sub" target="_blank" href="http://docs.biolab.si/3/development/">Getting Started</a></li>
                            </ul>
                        </div>

                    </div>
                </div>

                <div class="col-md-5 col-sm-12 col-xs-12 sitemap-group">
                    <div class="latest-blog-posts">
                        <ul class="links list-sitemap" style="padding-bottom: 10px">
                            <li><b><a class="sitemap-cat" href="/blog/">Latest blog posts</a></b></li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 18 Mar </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: #f79211" href="/blog/2022/2022-03-18-ldavis/">LDAvis: visualization for LDA topic modelling</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 11 Feb </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: #f79211" href="/blog/2022/2022-02-11-edit-image-collection/">Editing the photographs collection with the help of machine learning</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 01 Feb </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: #f79211" href="/blog/2022/2022-02-01-machine-learning-jargon/">Machine Learning Jargon</a>
                            </div>
                            </div>
                            </li>
                            
                        </ul>
                    </div>
                </div>

            </div>

            <div class="row footer-pad">
                <div class="col-xs-12">
                    <small class="copyright pull-left"  >Copyright Â© University of Ljubljana</small>
                </div>
            </div>
        </div>
    </footer>

    </body>
</html>